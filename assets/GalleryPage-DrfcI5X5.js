import{a as c,j as e,m as o,A as P}from"./framer-motion-B1hJR-WS.js";import{g as L,p as S}from"./index-Dy0LjZnO.js";import{u as T}from"./useMediaQuery-Cx0W0o9P.js";import{L as Y}from"./react-vendor-ulDWkZ6U.js";function A(a){if(!a)return;const d=a.match(/^(.+\/[^/]+?)(\.\w+)$/);if(d)return`${d[1]}-thumb${d[2]}`}const C=({src:a,alt:d="",className:y="",wrapperClassName:p="",loading:f="lazy",draggable:u,noThumb:h=!1})=>{const[l,s]=c.useState(!1),[t,r]=c.useState(!1),m=c.useMemo(()=>h?void 0:A(a),[a,h]);return e.jsxs("div",{className:`relative overflow-hidden ${p}`,children:[!l&&!t&&e.jsxs("div",{className:"absolute inset-0 bg-night-800 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 animate-pulse bg-night-700/50"}),e.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.04) 40%, rgba(255,255,255,0.08) 50%, rgba(255,255,255,0.04) 60%, transparent 100%)",backgroundSize:"200% 100%",animation:"shimmer 1.8s ease-in-out infinite"}})]}),m&&!t&&e.jsx(o.img,{src:m,alt:"","aria-hidden":!0,loading:f,className:`${y} absolute inset-0 w-full h-full object-cover`,style:{filter:"blur(20px)",transform:"scale(1.1)"},initial:{opacity:0},animate:{opacity:l?1:0},transition:{duration:.3},onLoad:()=>s(!0)}),e.jsx(o.img,{src:a,alt:d,loading:f,draggable:u,className:y,initial:{opacity:0},animate:{opacity:t?1:0},transition:{duration:.5,ease:"easeOut"},onLoad:()=>r(!0)})]})},z=({categories:a,onSelect:d})=>{const[y,p]=c.useState(a[0]?.id||"wedding"),[f,u]=c.useState(!1),h=a.find(t=>t.id===y),l=h?.photos||[],s=t=>{t===y||f||(u(!0),setTimeout(()=>{p(t),u(!1)},300))};return e.jsxs("div",{className:"w-full px-4 pt-16 pb-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(o.div,{className:"flex gap-2 overflow-x-auto scrollbar-hide pb-2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.map(t=>e.jsxs(o.button,{className:`
                flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300
                ${y===t.id?"bg-love-pink text-white shadow-glow-pink":"bg-white/10 text-white/80 border border-white/20 hover:bg-white/20"}
              `,onClick:()=>s(t.id),whileTap:{scale:.95},children:[e.jsx("span",{className:"mr-1",children:t.icon}),t.name]},t.id))}),e.jsx(o.p,{className:"text-center text-white/70 text-sm mt-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:h?.description},y)]}),e.jsx(P,{mode:"wait",children:e.jsx(o.div,{className:"grid grid-cols-2 gap-3 sm:gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,staggerChildren:.05},children:l.map((t,r)=>e.jsxs(o.div,{className:"relative group cursor-pointer",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:r*.03},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>d(t),children:[e.jsxs("div",{className:"aspect-[3/4] overflow-hidden rounded-lg bg-white/5 backdrop-blur-sm border border-white/10",children:[e.jsx(C,{src:t.src,alt:t.alt,loading:"lazy",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",wrapperClassName:"w-full h-full"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-colors duration-300 flex items-end",children:e.jsx("div",{className:"w-full p-3 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:e.jsx("p",{className:"text-white text-xs leading-relaxed font-light",children:t.alt})})})]}),e.jsxs("div",{className:"absolute top-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full backdrop-blur-sm",children:[r+1,"/",l.length]})]},t.id))},y)}),e.jsx(o.div,{className:"mt-8 flex justify-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:e.jsx("div",{className:"flex gap-2",children:[...Array(3)].map((t,r)=>e.jsx(o.div,{className:"w-2 h-2 bg-love-pink/60 rounded-full",animate:{opacity:[.3,1,.3],scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,delay:r*.3}},r))})})]})},D=({photos:a,onSelect:d,onPhotosChange:y,onRefreshReady:p})=>{const[f,u]=c.useState([]),h=c.useRef(new Set),l=5,s=360/l,t=140,r=180,m=t*1.35,b=c.useCallback(()=>{const n=[...a].sort(()=>.5-Math.random()).slice(0,l);u(n),h.current=new Set(n.map(i=>a.indexOf(i))),y(n)},[a,l,y]);return c.useEffect(()=>{b(),p(b)},[]),e.jsx("div",{className:"relative flex flex-col items-center justify-center",children:e.jsxs("div",{className:"relative carousel-container",style:{width:`${r*2+t}px`,height:`${m+120}px`,perspective:"800px",perspectiveOrigin:"50% 50%"},children:[e.jsx("div",{className:"absolute carousel-3d",style:{left:"50%",top:"40%",transformStyle:"preserve-3d"},children:f.map((g,n)=>{const i=n*s;return e.jsxs("div",{className:"absolute",style:{transformStyle:"preserve-3d",transform:`rotateY(${i}deg) translateZ(${r}px)`,left:`${-t/2}px`,top:`${-m/2}px`},children:[e.jsx(o.div,{className:"bg-white p-1.5 shadow-[0_8px_30px_rgba(0,0,0,0.4)] cursor-pointer",style:{width:t},onClick:()=>d(g),whileHover:{scale:1.05},children:e.jsx("div",{className:"aspect-[3/4] overflow-hidden bg-night-800",children:e.jsx(C,{src:g.src,alt:g.alt,className:"w-full h-full object-cover",wrapperClassName:"w-full h-full",draggable:!1})})},g.id),e.jsx("div",{className:"bg-white p-1.5 mt-0.5 opacity-25",style:{width:t,transform:"scaleY(-1)",maskImage:"linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, transparent 50%)",WebkitMaskImage:"linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, transparent 50%)"},children:e.jsx("div",{className:"aspect-[3/4] overflow-hidden",children:e.jsx("img",{src:g.src,alt:"",className:"w-full h-full object-cover",draggable:!1})})})]},`slot-${n}`)})}),e.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:e.jsx("div",{className:"w-32 h-32 bg-love-pink/20 rounded-full blur-[60px]"})})]})})},E={heart:"çˆ±å¿ƒ",star:"æ˜Ÿæ˜Ÿ",flower:"èŠ±æœµ",infinity:"æ°¸æ’",diamond:"é’»çŸ³",circle:"åœ†æ»¡",Si:"æ€å®è´","letter-I":"I","letter-L":"L","letter-O":"O","letter-V":"V","letter-E":"E","letter-Y":"Y","letter-U":"U","letter-F":"F","letter-R":"R"},H={heart:"ğŸ’•",star:"â­",flower:"ğŸŒ¸",infinity:"â™¾ï¸",diamond:"ğŸ’",circle:"ğŸ”®",Si:"ğŸ’—","letter-I":"I","letter-L":"L","letter-O":"O","letter-V":"V","letter-E":"E","letter-Y":"Y","letter-U":"U","letter-F":"F","letter-R":"R"},$=["heart","star","flower","infinity","diamond","circle","Si","letter-I","letter-L","letter-O","letter-V","letter-E","letter-Y","letter-O","letter-U","letter-F","letter-O","letter-R","letter-E","letter-V","letter-E","letter-R"],k=16;function F(a,d){const y=window.innerWidth*.65,p=window.innerHeight,f=y*.5,u=p*.45,h=Math.min(y,p)*.018;let l=0,s=0,t=0,r=1;switch(d){case"heart":{const n=a/k*Math.PI*2;l=16*Math.pow(Math.sin(n),3),s=-(13*Math.cos(n)-5*Math.cos(2*n)-2*Math.cos(3*n)-Math.cos(4*n)),t=(Math.random()-.5)*30,r=.85+Math.random()*.3;break}case"star":{const n=a/k*Math.PI*2-Math.PI/2,i=a%2===0?18:9;l=Math.cos(n)*i,s=Math.sin(n)*i,t=a*22.5%30-15,r=a%2===0?1:.8;break}case"flower":{const n=a<8?0:1,w=a%8/8*Math.PI*2+n*Math.PI/8,v=n===0?16:10;l=Math.cos(w)*v,s=Math.sin(w)*v,t=w*180/Math.PI-90,r=n===0?1:.85;break}case"infinity":{const n=a/k*Math.PI*2,i=18;l=i*Math.cos(n)/(1+Math.sin(n)*Math.sin(n)),s=i*Math.sin(n)*Math.cos(n)/(1+Math.sin(n)*Math.sin(n))*.8,t=a*22.5%40-20,r=.8+a%4*.08;break}case"diamond":{const i=[{x:0,y:-20},{x:6,y:-14},{x:-6,y:-14},{x:12,y:-8},{x:-12,y:-8},{x:16,y:0},{x:-16,y:0},{x:12,y:8},{x:-12,y:8},{x:6,y:14},{x:-6,y:14},{x:0,y:22},{x:4,y:-6},{x:-4,y:-6},{x:4,y:6},{x:-4,y:6}][a%16];l=i.x,s=i.y,t=(Math.random()-.5)*25,r=a<12?.9+Math.random()*.2:.75;break}case"circle":{const n=a<10?0:1,v=(n===0?a:a-10)/(n===0?10:6)*Math.PI*2-Math.PI/2,j=n===0?18:10;l=Math.cos(v)*j,s=Math.sin(v)*j,t=a*22.5%20-10,r=n===0?.95:.85;break}case"Si":{const i=[{x:-6,y:-14},{x:-12,y:-14},{x:-18,y:-10},{x:-18,y:-4},{x:-12,y:0},{x:-6,y:0},{x:0,y:4},{x:0,y:10},{x:-6,y:14},{x:-12,y:14},{x:-18,y:14},{x:14,y:-14},{x:14,y:-4},{x:14,y:2},{x:14,y:8},{x:14,y:14}][a%16];l=i.x,s=i.y,t=(Math.random()-.5)*15,r=a===11?.8:.9;break}case"letter-I":{const i=[{x:-8,y:-16},{x:0,y:-16},{x:8,y:-16},{x:0,y:-10},{x:0,y:-4},{x:0,y:2},{x:0,y:8},{x:-8,y:16},{x:0,y:16},{x:8,y:16},{x:-4,y:-16},{x:4,y:-16},{x:-4,y:16},{x:4,y:16},{x:0,y:-7},{x:0,y:5}][a%16];l=i.x,s=i.y,t=(Math.random()-.5)*10,r=.9;break}case"letter-L":{const i=[{x:-8,y:-16},{x:-8,y:-10},{x:-8,y:-4},{x:-8,y:2},{x:-8,y:8},{x:-8,y:14},{x:-8,y:16},{x:-2,y:16},{x:4,y:16},{x:10,y:16},{x:-8,y:-12},{x:-8,y:0},{x:-8,y:6},{x:-8,y:12},{x:2,y:16},{x:8,y:16}][a%16];l=i.x,s=i.y,t=(Math.random()-.5)*10,r=.9;break}case"letter-O":{const n=a/16*Math.PI*2;l=Math.cos(n)*12,s=Math.sin(n)*16,t=(Math.random()-.5)*15,r=.9;break}case"letter-V":{const i=[{x:-14,y:-16},{x:-11,y:-8},{x:-8,y:0},{x:-5,y:8},{x:-2,y:14},{x:0,y:16},{x:2,y:14},{x:5,y:8},{x:8,y:0},{x:11,y:-8},{x:14,y:-16},{x:-12,y:-12},{x:12,y:-12},{x:-6,y:4},{x:6,y:4},{x:0,y:12}][a%16];l=i.x,s=i.y,t=(Math.random()-.5)*12,r=.9;break}case"letter-E":{const i=[{x:-8,y:-16},{x:-8,y:-8},{x:-8,y:0},{x:-8,y:8},{x:-8,y:16},{x:-4,y:-16},{x:2,y:-16},{x:8,y:-16},{x:-4,y:0},{x:2,y:0},{x:6,y:0},{x:-4,y:16},{x:2,y:16},{x:8,y:16},{x:-8,y:-12},{x:-8,y:12}][a%16];l=i.x,s=i.y,t=(Math.random()-.5)*10,r=.9;break}case"letter-Y":{const i=[{x:-12,y:-16},{x:-9,y:-10},{x:-6,y:-4},{x:-3,y:0},{x:12,y:-16},{x:9,y:-10},{x:6,y:-4},{x:3,y:0},{x:0,y:2},{x:0,y:6},{x:0,y:10},{x:0,y:14},{x:0,y:16},{x:-10,y:-12},{x:10,y:-12},{x:0,y:-2}][a%16];l=i.x,s=i.y,t=(Math.random()-.5)*12,r=.9;break}case"letter-U":{const i=[{x:-10,y:-16},{x:-10,y:-8},{x:-10,y:0},{x:-10,y:6},{x:-8,y:12},{x:-4,y:16},{x:2,y:16},{x:6,y:12},{x:10,y:6},{x:10,y:0},{x:10,y:-8},{x:10,y:-16},{x:-6,y:14},{x:0,y:16},{x:4,y:14},{x:8,y:8}][a%16];l=i.x,s=i.y,t=(Math.random()-.5)*12,r=.9;break}case"letter-F":{const i=[{x:-8,y:-16},{x:-8,y:-8},{x:-8,y:0},{x:-8,y:8},{x:-8,y:16},{x:-4,y:-16},{x:2,y:-16},{x:8,y:-16},{x:10,y:-16},{x:-4,y:-2},{x:2,y:-2},{x:6,y:-2},{x:-8,y:-12},{x:-8,y:4},{x:-8,y:12},{x:4,y:-16}][a%16];l=i.x,s=i.y,t=(Math.random()-.5)*10,r=.9;break}case"letter-R":{const i=[{x:-8,y:-16},{x:-8,y:-8},{x:-8,y:0},{x:-8,y:8},{x:-8,y:16},{x:-4,y:-16},{x:2,y:-16},{x:6,y:-14},{x:8,y:-10},{x:6,y:-4},{x:2,y:-2},{x:-4,y:-2},{x:2,y:4},{x:6,y:10},{x:10,y:16},{x:4,y:8}][a%16];l=i.x,s=i.y,t=(Math.random()-.5)*12,r=.9;break}}const m=Math.sin(a/k*Math.PI*2)*60,b=s/20*12,g=l/20*18;return{targetX:f+l*h,targetY:u+s*h,targetRotate:t,targetRotateX:b,targetRotateY:g,targetZ:m,targetScale:r}}const X=({photos:a,onSelect:d,heartComplete:y,isResetting:p,heartCount:f,currentShape:u})=>{const h=a.length>0?a.reduce((s,t)=>s+t.targetX,0)/a.length:window.innerWidth*.65*.5,l=a.length>0?a.reduce((s,t)=>s+t.targetY,0)/a.length:window.innerHeight*.45;return e.jsxs("div",{className:"relative w-full h-full p-8 overflow-hidden",style:{perspective:"1200px",perspectiveOrigin:"50% 50%"},children:[e.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/4 right-1/4 w-64 h-64 bg-star-gold/5 rounded-full blur-[100px]"}),e.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-48 h-48 bg-love-pink/8 rounded-full blur-[80px]"}),e.jsx("div",{className:"absolute top-1/2 right-1/2 w-40 h-40 bg-purple-500/5 rounded-full blur-[60px]"})]}),a.length>0&&e.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(25)].map((s,t)=>{const r=["ğŸ’•","âœ¨","ğŸ’—","â­","ğŸ’–","âœ¦","â™¥","â¤"],m=r[t%r.length],b=h+(Math.random()-.5)*400,g=l+(Math.random()-.5)*300;return e.jsx(o.div,{className:"absolute text-love-pink",style:{left:b,top:g,fontSize:`${8+Math.random()*12}px`},initial:{opacity:0,scale:0},animate:{opacity:[0,.8,0],scale:[.5,1,.5],x:(Math.random()-.5)*100,y:-50-Math.random()*100,rotate:Math.random()*360},transition:{duration:3+Math.random()*2,repeat:1/0,delay:t*.2,ease:"easeOut"},children:m},`particle-${t}`)})}),a.length>=8&&e.jsxs(o.div,{className:"absolute pointer-events-none",style:{left:h-200,top:l-200,width:400,height:400},initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[e.jsx(o.div,{className:"absolute inset-0 rounded-full",style:{background:"radial-gradient(circle, rgba(255,105,180,0.15) 0%, rgba(255,215,0,0.1) 40%, transparent 70%)"},animate:{scale:[1,1.15,1],opacity:[.6,.9,.6]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),e.jsx(o.div,{className:"absolute inset-4",style:{borderRadius:"50%",border:"1px solid rgba(255,105,180,0.2)",boxShadow:"0 0 30px rgba(255,105,180,0.1), inset 0 0 30px rgba(255,215,0,0.05)"},animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"}})]}),a.length>=12&&e.jsx("div",{className:"absolute pointer-events-none",style:{left:h,top:l},children:[...Array(12)].map((s,t)=>e.jsx(o.div,{className:"absolute origin-left",style:{width:150+Math.random()*100,height:2,background:"linear-gradient(90deg, rgba(255,215,0,0.3) 0%, rgba(255,105,180,0.2) 50%, transparent 100%)",transform:`rotate(${t*30}deg)`,filter:"blur(2px)"},animate:{opacity:[.2,.5,.2],scaleX:[.8,1.2,.8]},transition:{duration:2+Math.random(),repeat:1/0,delay:t*.1,ease:"easeInOut"}},`ray-${t}`))}),e.jsxs(o.div,{className:"absolute top-6 right-8 text-right z-10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-elegant gradient-text mb-2",children:"ç¾å¥½å›å¿†"}),e.jsx("p",{className:"text-white/40 text-sm tracking-[0.2em]",children:"Our Precious Moments"}),e.jsxs(o.div,{className:"mt-4 flex justify-end items-center gap-2",initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[e.jsx("span",{className:"text-2xl",children:H[u]}),e.jsx("span",{className:"text-white/50 text-sm",children:E[u]})]},u),e.jsxs("div",{className:"mt-3 flex justify-end items-center gap-3",children:[f>0&&e.jsxs(o.div,{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/5",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},children:[e.jsx("span",{className:"text-star-gold text-xs",children:"âœ¨"}),e.jsxs("span",{className:"text-white/50 text-xs",children:[f," ä¸ªå›¾æ¡ˆ"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex gap-0.5",children:[...Array(4)].map((s,t)=>{const r=Math.floor(a.length/4),m=a.length%4>t;return e.jsx(o.div,{className:`w-2.5 h-2.5 rounded-full ${t<r||m?"bg-love-pink":"bg-white/20"}`,initial:t===r&&m&&a.length>0?{scale:0}:{},animate:{scale:1},transition:{type:"spring",stiffness:300}},t)})}),e.jsxs("span",{className:"text-white/40 text-xs",children:[a.length,"/16"]})]})]})]}),e.jsx(P,{children:y&&!p&&e.jsxs(o.div,{className:"absolute inset-0 pointer-events-none flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx(o.div,{className:"absolute w-[600px] h-[600px] rounded-full",style:{background:"radial-gradient(circle, rgba(255,105,180,0.2) 0%, rgba(255,215,0,0.15) 30%, rgba(255,105,180,0.1) 50%, transparent 70%)"},animate:{scale:[1,1.4,1],opacity:[.6,1,.6]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),e.jsx(o.div,{className:"absolute w-[400px] h-[400px] rounded-full",style:{background:"radial-gradient(circle, rgba(255,215,0,0.25) 0%, rgba(255,105,180,0.2) 40%, transparent 70%)"},animate:{scale:[1.2,1,1.2],opacity:[.5,.9,.5],rotate:[0,180,360]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),[...Array(20)].map((s,t)=>{const r=t/20*Math.PI*2,m=150+Math.random()*150;return e.jsx(o.div,{className:"absolute",style:{left:h,top:l},initial:{x:0,y:0,opacity:0,scale:0},animate:{x:Math.cos(r)*m,y:Math.sin(r)*m,opacity:[0,1,0],scale:[0,1.5,0]},transition:{duration:2,delay:t*.03,ease:"easeOut",repeat:1/0,repeatDelay:1},children:e.jsx("span",{className:"text-xl",children:["ğŸ’•","âœ¨","ğŸ’–","â­","ğŸ’—"][t%5]})},`firework-${t}`)}),[...Array(12)].map((s,t)=>e.jsx(o.div,{className:"absolute text-love-pink",style:{left:`${20+Math.random()*60}%`,top:-20,fontSize:`${12+Math.random()*10}px`},animate:{y:[0,window.innerHeight+50],x:[0,(Math.random()-.5)*100],rotate:[0,360*(Math.random()>.5?1:-1)],opacity:[0,1,1,0]},transition:{duration:4+Math.random()*2,delay:t*.15,repeat:1/0,ease:"linear"},children:["ğŸŒ¸","ğŸ’®","ğŸµï¸","â€","âœ¿"][t%5]},`petal-${t}`))]})}),e.jsx(P,{children:a.map((s,t)=>e.jsx(o.div,{className:"absolute",style:{zIndex:10+t+Math.round(s.targetZ),willChange:"transform"},initial:{x:-150,y:window.innerHeight/2-100,opacity:0,scale:.5},animate:{x:s.targetX,y:s.targetY,opacity:1,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.4}},transition:{duration:.8,ease:"easeOut"},children:e.jsx("div",{className:"relative cursor-pointer bg-white/90 p-1.5 rounded-sm transition-transform duration-200 hover:scale-110 hover:z-50",style:{width:150,transform:`rotate(${s.targetRotate}deg) scale(${s.targetScale})`,boxShadow:"0 10px 30px rgba(0,0,0,0.3), 0 0 15px rgba(255,105,180,0.15)"},onClick:()=>d(s),children:e.jsx("div",{className:"aspect-[3/4] overflow-hidden",children:e.jsx("img",{src:s.src,alt:s.alt,className:"w-full h-full object-cover",draggable:!1,loading:"lazy"})})})},s.flyId))}),a.length===0&&e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-heart-glow"}),e.jsxs("div",{className:"relative flex items-center justify-center",style:{width:"35vw",height:"35vh"},children:[e.jsx("div",{className:"heart-main text-love-pink",style:{fontSize:"min(22vw, 22vh)"},children:"â¤ï¸"}),[0,60,120,180,240,300].map((s,t)=>e.jsx("div",{className:"absolute heart-orbit",style:{fontSize:"min(3vw, 3vh)",left:"50%",top:"50%",transform:`translate(-50%, -50%) rotate(${s}deg) translateX(min(12vw, 12vh))`,animationDelay:`${t*.12}s`},children:["â¤ï¸","ğŸ’—","ğŸ’–"][t%3]},`orbit-${t}`)),[0,1,2].map(s=>e.jsx("div",{className:"absolute left-1/2 top-1/2 rounded-full pulse-ring",style:{width:"min(15vw, 15vh)",height:"min(15vw, 15vh)",border:"2px solid rgba(255,105,180,0.3)",animationDelay:`${s*.6}s`}},`pulse-${s}`)),[0,1,2,3,4,5].map(s=>e.jsx("div",{className:"absolute text-star-gold star-blink",style:{fontSize:"min(1.5vw, 1.5vh)",left:`${15+s*14}%`,top:`${20+s*17%60}%`,animationDelay:`${s*.3}s`},children:"âœ¦"},`star-${s}`))]})]}),a.length>0&&e.jsx(o.p,{className:"absolute bottom-6 right-8 text-white/20 text-xs tracking-widest",initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:"ç‚¹å‡»ç…§ç‰‡æŸ¥çœ‹å¤§å›¾"})]})};function _(a){return Array.from({length:a},()=>({left:Math.random()*100,top:Math.random()*100,animDuration:2+Math.random()*2,animDelay:Math.random()*2}))}function q(){const[a,d]=c.useState(null),[y,p]=c.useState([]),[f,u]=c.useState(!1),[h,l]=c.useState(0),[s,t]=c.useState(!1),[r,m]=c.useState("heart"),b=c.useMemo(()=>L(),[]),g=c.useRef(0),n=c.useRef(null),i=c.useRef([]),w=c.useRef(()=>{}),v=c.useCallback(()=>{n.current&&clearTimeout(n.current);const x=$[g.current%$.length];m(x),u(!1),t(!1);const N=Date.now(),O=[...b].sort(()=>.5-Math.random()).slice(0,16).map((M,I)=>({...M,flyId:`${M.id}-${N}-${I}`,startTime:N+I*100,...F(I,x)}));p(O),w.current(),setTimeout(()=>{u(!0)},500),setTimeout(()=>{t(!0)},15e3),setTimeout(()=>{p([]),u(!1),t(!1),l(M=>M+1),g.current+=1},16e3)},[b]);c.useEffect(()=>{const x=setTimeout(()=>{v()},1e3),N=setInterval(()=>{v()},2e4);return()=>{clearTimeout(x),clearInterval(N)}},[v]);const j=T(),R=c.useMemo(()=>_(j?10:20),[j]);return e.jsxs("div",{className:"min-h-screen bg-night-900 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:R.map((x,N)=>e.jsx(o.div,{className:"absolute w-1 h-1 rounded-full bg-white/20",style:{left:`${x.left}%`,top:`${x.top}%`},animate:{opacity:[.2,.5,.2],scale:[1,1.5,1]},transition:{duration:x.animDuration,repeat:1/0,delay:x.animDelay}},N))}),e.jsx(Y,{to:"/",children:e.jsx(o.button,{className:"fixed top-4 left-4 z-50 w-10 h-10 bg-white/10 backdrop-blur-md border border-white/20 rounded-full flex items-center justify-center shadow-lg hover:bg-white/20 transition-colors",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},whileHover:{scale:1.1},whileTap:{scale:.95},children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})}),j?e.jsx(z,{categories:S,onSelect:d}):e.jsxs("div",{className:"h-screen flex",children:[e.jsxs("div",{className:"w-[35%] min-w-[380px] max-w-[500px] flex items-center justify-center relative",children:[e.jsx(D,{photos:b,onSelect:d,onPhotosChange:x=>{i.current=x},onRefreshReady:x=>{w.current=x}}),e.jsx("div",{className:"absolute right-0 top-1/4 bottom-1/4 w-px bg-gradient-to-b from-transparent via-white/10 to-transparent"})]}),e.jsx("div",{className:"flex-1 relative overflow-hidden",children:e.jsx(X,{photos:y,onSelect:d,heartComplete:f,isResetting:s,heartCount:h,currentShape:r})})]}),!j&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-night-900 to-transparent pointer-events-none"}),e.jsx(P,{children:a&&e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-md p-4",onClick:()=>d(null),children:e.jsxs(o.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative max-w-5xl w-full max-h-[90vh] flex flex-col items-center",onClick:x=>x.stopPropagation(),children:[e.jsx("img",{src:a.src,alt:a.alt,className:"w-full h-full object-contain rounded-lg shadow-2xl max-h-[80vh]"}),e.jsxs("div",{className:"mt-6 text-center",children:[e.jsx("h3",{className:"text-2xl text-white font-romantic mb-2",children:a.alt}),e.jsxs("span",{className:"inline-block px-3 py-1 rounded-full bg-white/10 text-white/60 text-xs border border-white/10",children:[S.find(x=>x.id===a.category)?.icon," ",S.find(x=>x.id===a.category)?.name]})]}),e.jsx("button",{className:"absolute top-2 right-2 w-10 h-10 flex items-center justify-center rounded-full bg-black/50 backdrop-blur-sm text-white/70 hover:text-white hover:bg-black/70 transition-colors",onClick:()=>d(null),children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})]})}export{q as default};
